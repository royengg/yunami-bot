{
  "id": "engine-showcase",
  "title": "Engine Showcase Story",
  "description": "A comprehensive test story showcasing all engine features.",
  "firstNodeId": "intro",
  "nodes": {
    "intro": {
      "id": "intro",
      "schema_version": 1,
      "type": "narrative",
      "title": "Welcome",
      "public_embed": {
        "title": "üéÆ Engine Showcase",
        "description": "This story demonstrates all the engine features:\n\n‚Ä¢ **Choices** with costs\n‚Ä¢ **Timed voting** with progress bar\n‚Ä¢ **Sequence puzzles**\n‚Ä¢ **Social interactions** with reputation\n‚Ä¢ **DM deliveries** for private info",
        "color": 5793266,
        "fields": [
          { "name": "Your Mission", "value": "Navigate through various scenarios to test each feature." }
        ]
      },
      "type_specific": {
        "extra_data": { "nextNodeId": "sequence_demo" }
      }
    },
    "sequence_demo": {
      "id": "sequence_demo",
      "schema_version": 1,
      "type": "sequence",
      "title": "Sequence Puzzle",
      "public_embed": {
        "title": "üî¢ The Lock",
        "description": "A mysterious lock blocks your path. Press the symbols in the correct order to proceed.\n\n**Hint:** The order is hidden in plain sight ‚Äî üîµ then üî¥ then üü¢",
        "color": 10181046,
        "fields": [
          { "name": "Instructions", "value": "Click buttons in order, then Submit." }
        ]
      },
      "type_specific": {
        "sequence": {
          "steps": [
            { "id": "red", "label": "Red", "emoji": "üî¥" },
            { "id": "blue", "label": "Blue", "emoji": "üîµ" },
            { "id": "green", "label": "Green", "emoji": "üü¢" }
          ],
          "correct_order": ["blue", "red", "green"],
          "max_attempts": 3,
          "on_success": "sequence_success",
          "on_failure": "sequence_fail"
        }
      }
    },
    "sequence_success": {
      "id": "sequence_success",
      "schema_version": 1,
      "type": "narrative",
      "title": "Lock Opened",
      "public_embed": {
        "title": "‚úÖ Lock Opened!",
        "description": "The lock clicks open. Well done!",
        "color": 3066993
      },
      "type_specific": {
        "extra_data": { "nextNodeId": "social_demo" }
      }
    },
    "sequence_fail": {
      "id": "sequence_fail",
      "schema_version": 1,
      "type": "narrative",
      "title": "Lock Jammed",
      "public_embed": {
        "title": "‚ùå Lock Jammed!",
        "description": "Too many wrong attempts. The lock is now stuck.",
        "color": 15158332
      },
      "type_specific": {
        "extra_data": { "nextNodeId": "social_demo" }
      }
    },
    "social_demo": {
      "id": "social_demo",
      "schema_version": 1,
      "type": "social",
      "title": "Social Encounter",
      "public_embed": {
        "title": "üí¨ The Guard",
        "description": "A suspicious guard blocks the gate. How will you get past?"
      },
      "type_specific": {
        "social": {
          "npc_name": "Gate Guard",
          "reputation_stat": "guard_trust",
          "approaches": [
            {
              "id": "bribe",
              "label": "Offer Bribe",
              "emoji": "üí∞",
              "style": 1,
              "success_chance": 80,
              "reputation_change": 5,
              "on_success": "guard_pass",
              "on_failure": "guard_angry"
            },
            {
              "id": "intimidate",
              "label": "Intimidate",
              "emoji": "üò†",
              "style": 4,
              "success_chance": 40,
              "reputation_change": -10,
              "on_success": "guard_pass",
              "on_failure": "guard_angry"
            },
            {
              "id": "persuade",
              "label": "Persuade",
              "emoji": "üó£Ô∏è",
              "style": 3,
              "success_chance": 60,
              "reputation_change": 10,
              "on_success": "guard_pass",
              "on_failure": "guard_skeptical"
            }
          ]
        }
      }
    },
    "guard_pass": {
      "id": "guard_pass",
      "schema_version": 1,
      "type": "narrative",
      "title": "Guard Passed",
      "public_embed": {
        "title": "‚úÖ Access Granted!",
        "description": "The guard steps aside and lets you through.",
        "color": 3066993
      },
      "type_specific": {
        "extra_data": { "nextNodeId": "choice_demo" }
      }
    },
    "guard_angry": {
      "id": "guard_angry",
      "schema_version": 1,
      "type": "narrative",
      "title": "Guard Angry",
      "public_embed": {
        "title": "üò° Guard Angered!",
        "description": "The guard scowls but eventually relents. You've made an enemy.",
        "color": 15158332
      },
      "type_specific": {
        "extra_data": { "nextNodeId": "choice_demo" }
      }
    },
    "guard_skeptical": {
      "id": "guard_skeptical",
      "schema_version": 1,
      "type": "narrative",
      "title": "Guard Skeptical",
      "public_embed": {
        "title": "ü§î Guard Unconvinced",
        "description": "The guard doesn't believe you, but lets you pass with a warning.",
        "color": 16776960
      },
      "type_specific": {
        "extra_data": { "nextNodeId": "choice_demo" }
      }
    },
    "choice_demo": {
      "id": "choice_demo",
      "schema_version": 1,
      "type": "choice",
      "title": "Choice Demo",
      "public_embed": {
        "title": "üí∞ The Merchant",
        "description": "A traveling merchant offers you various goods.",
        "color": 15844367,
        "fields": [
          { "name": "Your Credits", "value": "You have 10 credits to spend." }
        ],
        "footer": "Some choices cost credits!"
      },
      "type_specific": {
        "choices": [
          {
            "id": "buy_potion",
            "label": "Buy Potion (3)",
            "emoji": "üß™",
            "style": 1,
            "cost": { "credits": 3 },
            "ephemeral_confirmation": true,
            "nextNodeId": "bought_item"
          },
          {
            "id": "buy_sword",
            "label": "Buy Sword (7)",
            "emoji": "‚öîÔ∏è",
            "style": 4,
            "cost": { "credits": 7 },
            "ephemeral_confirmation": true,
            "nextNodeId": "bought_item"
          },
          {
            "id": "skip",
            "label": "Skip",
            "emoji": "üö∂",
            "style": 2,
            "nextNodeId": "vote_demo"
          }
        ]
      },
      "ui_hints": {
        "disable_after_click": true
      }
    },
    "bought_item": {
      "id": "bought_item",
      "schema_version": 1,
      "type": "narrative",
      "title": "Item Purchased",
      "public_embed": {
        "title": "‚úÖ Purchase Complete!",
        "description": "You acquired the item. On to the next test!",
        "color": 3066993
      },
      "type_specific": {
        "extra_data": { "nextNodeId": "vote_demo" }
      }
    },
    "vote_demo": {
      "id": "vote_demo",
      "schema_version": 1,
      "type": "timed",
      "title": "Timed Vote",
      "public_embed": {
        "title": "üó≥Ô∏è The Crossroads",
        "description": "Choose a path! Vote before time runs out.",
        "color": 3447003
      },
      "type_specific": {
        "timers": {
          "duration_seconds": 20
        },
        "choices": [
          {
            "id": "left",
            "label": "Left",
            "emoji": "‚¨ÖÔ∏è",
            "style": 1,
            "nextNodeId": "dm_demo"
          },
          {
            "id": "right",
            "label": "Right",
            "emoji": "‚û°Ô∏è",
            "style": 1,
            "nextNodeId": "dm_demo"
          }
        ],
        "outcome_rules": {
          "on_all_inputs_or_timeout": {
            "compute": "majority"
          }
        }
      },
      "ui_hints": {
        "disable_after_click": true
      }
    },
    "dm_demo": {
      "id": "dm_demo",
      "schema_version": 1,
      "type": "dm",
      "title": "Secret Intel",
      "public_embed": {
        "title": "üì° Intelligence Report",
        "description": "The scout has received classified information...\n\nIf you are the **Scout**, check your DMs for secret intel!",
        "color": 16750848
      },
      "side_effects": {
        "spawn_dm_jobs": true
      },
      "type_specific": {
        "dm_deliveries": [
          {
            "recipient_role": "scout",
            "content": {
              "text": "üîç **Scout Intel**\n\n**Secret Message for Scout Only**\n\nYou spot a hidden path through the forest.\n\n*This information is for your eyes only. Share it with your team wisely.*"
            }
          }
        ],
        "extra_data": { "nextNodeId": "ending" }
      }
    },
    "ending": {
      "id": "ending",
      "schema_version": 1,
      "type": "narrative",
      "title": "The End",
      "public_embed": {
        "title": "üéâ Showcase Complete!",
        "description": "You've tested all engine features:\n\n‚úÖ Narrative nodes\n‚úÖ Choice nodes with costs\n‚úÖ Sequence puzzles\n‚úÖ Social interactions\n‚úÖ Timed voting\n‚úÖ DM deliveries (check scout's DMs!)",
        "color": 5793266
      }
    }
  }
}
